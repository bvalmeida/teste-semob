<!DOCTYPE html>
<html ng-app="myApp">
<head>
  <script src="bower_components/angular/angular.min.js"></script>
  <script src="app.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.28//angular-route.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div ng-controller="cepController" class="bgScreen container">

    <div>
        <a href="/second"> View Students List</a>
    </div>

    <div class="positionScreen row">
        <div class="col-4 inputCep">

            <div class="mt-5">
                <label>Digite o Cep</label>
                <input type="text" ng-model="pathVar">
                <button class="btn btn-success mx-2" ng-click="getViaCeps()">Buscar</button>
            </div>
            
            <div class="cepResult mt-3">
                <p>Cep: {{viaCep.cep}}</p>
                <p>Logradouro: {{viaCep.logradouro}}</p>
                <p>Complemento: {{viaCep.complemento}}</p>
                <p>Bairro: {{viaCep.bairro}}</p>
                <p>Localidade: {{viaCep.localidade}}</p>
                <p>Uf: {{viaCep.uf}}</p>
                <p>Ibge: {{viaCep.ibge}}</p>
                <p>Gia: {{viaCep.gia}}</p>
                <p>DDD: {{viaCep.ddd}}</p>
                <p>Siafi: {{viaCep.siafi}}</p>
            </div>
        </div>

        <div class="listaViaCeps col-8">
            <div class="mt-5">
                <label>Buscar Todas as Pesquisas</label>
                <button class="btn btn-success mx-2" ng-click="getViaCepsPesquisas()">Buscar Pesquisas</button>
            </div>

            <div class="cepResult mt-3">
                <table class="table table-secundary table-hover table-sm">
                    <caption class="mb-2 mt-2 2">Lista de Pesquisas, ViaCep</caption>
                    <thead>
                        <tr>
                            <th scope="col">CEP</th>
                            <th scope="col">Logradouro</th>
                            <th scope="col">Complemento</th>
                            <th scope="col">Bairro</th>
                            <th scope="col">Localidade</th>
                            <th scope="col">Uf</th>
                            <th scope="col">IBGE</th>
                            <th scope="col">GIA</th>
                            <th scope="col">DDD</th>
                            <th scope="col">SIAFI</th>
                            <th scope="col">Data da Pesquisa</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="cep in ceps">
                        <tr>
                            <td>{{cep.cep}}</td>
                            <td>{{cep.logradouro}}</td>
                            <td>{{cep.complemento}}</td>
                            <td>{{cep.bairro}}</td>
                            <td>{{cep.localidade}}</td>
                            <td>{{cep.uf}}</td>
                            <td>{{cep.ibge}}</td>
                            <td>{{cep.gia}}</td>
                            <td>{{cep.ddd}}</td>
                            <td>{{cep.siafi}}</td>
                            <td>{{cep.dataHoraPesquisa}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
  </div>
</body>
</html>
